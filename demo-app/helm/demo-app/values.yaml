# Default values for demo-app Helm chart

global:
  environment: production
  domain: demo-app.local

# User Service
userService:
  enabled: true
  replicaCount: 3
  image:
    repository: user-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 5000
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Product Service
productService:
  enabled: true
  replicaCount: 3
  image:
    repository: product-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 5000
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Order Service
orderService:
  enabled: true
  replicaCount: 3
  image:
    repository: order-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 5000
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Analytics Service (Gin/Go)
analyticsService:
  enabled: true
  replicaCount: 2
  image:
    repository: analytics-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8080
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Notification Service (Fastify/Node.js)
notificationService:
  enabled: true
  replicaCount: 2
  image:
    repository: notification-service
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "256Mi"
      cpu: "250m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# MongoDB
mongodb:
  enabled: true
  auth:
    enabled: false
  persistence:
    enabled: true
    size: 10Gi
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# PostgreSQL
postgresql:
  enabled: true
  auth:
    database: orders
    username: postgres
    password: postgres
  persistence:
    enabled: true
    size: 10Gi
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Redis
redis:
  enabled: true
  master:
    persistence:
      enabled: true
      size: 5Gi
    resources:
      requests:
        memory: "128Mi"
        cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "200m"

# Kafka
kafka:
  enabled: true
  replicaCount: 1
  persistence:
    enabled: true
    size: 10Gi

# Cassandra
cassandra:
  enabled: true
  replicaCount: 1
  persistence:
    enabled: true
    size: 10Gi

# Elasticsearch
elasticsearch:
  enabled: true
  replicas: 1
  persistence:
    enabled: true
    size: 10Gi

# Ingress
ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /$2
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
  hosts:
    - host: demo-app.local
      paths:
        - path: /api/users(/|$)(.*)
          service: user-service
          port: 5000
        - path: /api/products(/|$)(.*)
          service: product-service
          port: 5000
        - path: /api/orders(/|$)(.*)
          service: order-service
          port: 5000
        - path: /api/analytics(/|$)(.*)
          service: analytics-service
          port: 8080
        - path: /api/notifications(/|$)(.*)
          service: notification-service
          port: 3000
